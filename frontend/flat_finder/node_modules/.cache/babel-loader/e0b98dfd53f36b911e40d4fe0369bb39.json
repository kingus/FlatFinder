{"ast":null,"code":"import React, { Component } from 'react';\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar css = \"/* add css styles here (optional) */\\n\\n.styles_ReactSwipeButton__2WML2 {\\n  float: left;\\n  width: 100%;\\n  height: 50px;\\n  position: relative;\\n}\\n.styles_ReactSwipeButton__2WML2,\\n.styles_ReactSwipeButton__2WML2 * {\\n  -webkit-touch-callout: none; /* iOS Safari */\\n  -webkit-user-select: none;   /* Chrome/Safari/Opera */\\n  -khtml-user-select: none;    /* Konqueror */\\n  -moz-user-select: none;      /* Firefox */\\n  -ms-user-select: none;       /* Internet Explorer/Edge */\\n  user-select: none;           /* Non-prefixed version, currently\\n                                  not supported by any browser */\\n}\\n.styles_rsbContainer__KXpXK{\\n  float: left;\\n  width: 100%;\\n  height: 100%;\\n  background: #eee;\\n  border-radius: 50px;\\n  position: relative;\\n  /* box-shadow: inset 1px 1px 4px rgba(0,0,0,0.1); */\\n  overflow: hidden;\\n}\\n.styles_rsbContainerUnlocked__1T0vd{\\n  width: 50%!important;\\n  margin-left: 25%;\\n  transition: 0.5s;\\n  cursor: default;\\n}\\n.styles_rsbContainerUnlocked__1T0vd .styles_rsbcSlider__1yYxD{\\n  left: 100%!important;\\n  cursor: default;\\n  pointer-events: none;\\n}\\n.styles_rsbContainerUnlocked__1T0vd .styles_rsbcSliderArrow__2D9q4 {\\n  transition: 0.5s;\\n  margin-right: -60px;\\n}\\n.styles_rsbContainerUnlocked__1T0vd .styles_rsbcSliderCircle__3G0Zs {\\n  transition: 0.5s;\\n  margin-right: -60px;\\n}\\n.styles_rsbcSlider__1yYxD {\\n  float: left;\\n  width: 100%;\\n  position: absolute;\\n  height: 50px;\\n  top:0;\\n  left: 50px;\\n  margin-left:-100%;\\n  background: #333;\\n  border-radius: 25px;\\n  z-index: 100;\\n  /* box-shadow: 1px 1px 5px rgba(0,0,0,0.3); */\\n  cursor: pointer;\\n}\\n.styles_rsbcSliderText__3h08j{\\n  position: absolute;\\n  top:0;\\n  left:0;\\n  right:0;\\n  line-height: 50px;\\n  text-align: center;\\n  font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;\\n  letter-spacing: 2px;\\n  color: #fff;\\n  font-size: 13px;\\n\\n}\\n.styles_rsbcSliderArrow__2D9q4{\\n  float: left;\\n  position: absolute;\\n  transform: rotate(45deg);\\n  border: 2px solid #fff;\\n  height: 8px;\\n  width: 8px;\\n  top:50%;\\n  right: 22px;\\n  margin-top: -6px;\\n  border-left-color: transparent;\\n  border-bottom-color: transparent;\\n  transform-origin: center;\\n  z-index: 10;\\n}\\n.styles_rsbcSliderCircle__3G0Zs {\\n  position: absolute;\\n  right: 0;\\n  background: #444;\\n  top:0;\\n  height: 50px;\\n  width: 50px;\\n  border-radius: 100%;\\n}\\n.styles_rsbcText__16wA0 {\\n  float: left;\\n  position: absolute;\\n  top:0;\\n  left:0;\\n  right:0;\\n  height: 50px;\\n  line-height: 50px;\\n  text-align: center;\\n  font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;\\n  letter-spacing: 2px;\\n  font-size: 13px;\\n  color: #aaa;\\n}\";\nvar styles = {\n  \"ReactSwipeButton\": \"styles_ReactSwipeButton__2WML2\",\n  \"rsbContainer\": \"styles_rsbContainer__KXpXK\",\n  \"rsbContainerUnlocked\": \"styles_rsbContainerUnlocked__1T0vd\",\n  \"rsbcSlider\": \"styles_rsbcSlider__1yYxD\",\n  \"rsbcSliderArrow\": \"styles_rsbcSliderArrow__2D9q4\",\n  \"rsbcSliderCircle\": \"styles_rsbcSliderCircle__3G0Zs\",\n  \"rsbcSliderText\": \"styles_rsbcSliderText__3h08j\",\n  \"rsbcText\": \"styles_rsbcText__16wA0\"\n};\nstyleInject(css);\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nvar slider = React.createRef();\nvar container = React.createRef();\nvar isTouchDevice = ('ontouchstart' in document.documentElement);\n\nvar ReactSwipeButton = function (_Component) {\n  inherits(ReactSwipeButton, _Component);\n\n  function ReactSwipeButton() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    classCallCheck(this, ReactSwipeButton);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = possibleConstructorReturn(this, (_ref = ReactSwipeButton.__proto__ || Object.getPrototypeOf(ReactSwipeButton)).call.apply(_ref, [this].concat(args))), _this), _this.isDragging = false, _this.sliderLeft = 0, _this.state = {}, _this.onDrag = function (e) {\n      if (_this.unmounted || _this.state.unlocked) return;\n\n      if (_this.isDragging) {\n        if (isTouchDevice) {\n          _this.sliderLeft = Math.min(Math.max(0, e.touches[0].clientX - _this.startX), _this.containerWidth);\n        } else {\n          _this.sliderLeft = Math.min(Math.max(0, e.clientX - _this.startX), _this.containerWidth);\n        }\n\n        _this.updateSliderStyle();\n      }\n    }, _this.updateSliderStyle = function () {\n      if (_this.unmounted || _this.state.unlocked) return;\n      slider.current.style.left = _this.sliderLeft + 50 + 'px';\n    }, _this.stopDrag = function () {\n      if (_this.unmounted || _this.state.unlocked) return;\n\n      if (_this.isDragging) {\n        _this.isDragging = false;\n\n        if (_this.sliderLeft > _this.containerWidth * 0.9) {\n          _this.sliderLeft = _this.containerWidth;\n\n          _this.onSuccess();\n\n          if (_this.props.onSuccess) {\n            _this.props.onSuccess();\n          }\n        } else {\n          _this.sliderLeft = 0;\n\n          if (_this.props.onFailure) {\n            _this.props.onFailure();\n          }\n        }\n\n        _this.updateSliderStyle();\n      }\n    }, _this.startDrag = function (e) {\n      if (_this.unmounted || _this.state.unlocked) return;\n      _this.isDragging = true;\n\n      if (isTouchDevice) {\n        _this.startX = e.touches[0].clientX;\n      } else {\n        _this.startX = e.clientX;\n      }\n    }, _this.onSuccess = function () {\n      container.current.style.width = container.current.clientWidth + 'px';\n\n      _this.setState({\n        unlocked: true\n      });\n    }, _this.getText = function () {\n      return _this.state.unlocked ? _this.props.text_unlocked || 'UNLOCKED' : _this.props.text || 'SLIDE';\n    }, _this.reset = function () {\n      if (_this.unmounted) return;\n\n      _this.setState({\n        unlocked: false\n      }, function () {\n        _this.sliderLeft = 0;\n\n        _this.updateSliderStyle();\n      });\n    }, _temp), possibleConstructorReturn(_this, _ret);\n  }\n\n  createClass(ReactSwipeButton, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (isTouchDevice) {\n        document.addEventListener('touchmove', this.onDrag);\n        document.addEventListener('touchend', this.stopDrag);\n      } else {\n        document.addEventListener('mousemove', this.onDrag);\n        document.addEventListener('mouseup', this.stopDrag);\n      }\n\n      this.containerWidth = container.current.clientWidth - 50;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.unmounted = true;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return React.createElement('div', {\n        className: styles.ReactSwipeButton\n      }, React.createElement('div', {\n        className: styles.rsbContainer + ' ' + (this.state.unlocked ? styles.rsbContainerUnlocked : ''),\n        ref: container\n      }, React.createElement('div', {\n        className: styles.rsbcSlider,\n        ref: slider,\n        onMouseDown: this.startDrag,\n        style: {\n          background: this.props.color\n        },\n        onTouchStart: this.startDrag\n      }, React.createElement('span', {\n        className: styles.rsbcSliderText\n      }, this.getText()), React.createElement('span', {\n        className: styles.rsbcSliderArrow\n      }), React.createElement('span', {\n        className: styles.rsbcSliderCircle,\n        style: {\n          background: this.props.color\n        }\n      })), React.createElement('div', {\n        className: styles.rsbcText\n      }, this.getText())));\n    }\n  }]);\n  return ReactSwipeButton;\n}(Component);\n\nexport default ReactSwipeButton;","map":{"version":3,"sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/index.js"],"names":["slider","React","container","isTouchDevice","document","ReactSwipeButton","Component","isDragging","sliderLeft","state","onDrag","Math","e","updateSliderStyle","stopDrag","startDrag","onSuccess","getText","reset","unlocked","styles","background"],"mappings":"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","sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import React, { Component } from 'react' \nimport styles from './styles.css'\n\nconst slider = React.createRef();\nconst container = React.createRef();\nconst isTouchDevice = 'ontouchstart' in document.documentElement\n\nexport default class ReactSwipeButton extends Component {\n  \n  isDragging = false;\n  sliderLeft = 0;\n\n  state = {}\n\n  componentDidMount() {\n    if(isTouchDevice) {\n      document.addEventListener('touchmove', this.onDrag);\n      document.addEventListener('touchend', this.stopDrag);\n    } else {\n      document.addEventListener('mousemove', this.onDrag);\n      document.addEventListener('mouseup', this.stopDrag);  \n    }\n    this.containerWidth = container.current.clientWidth - 50;\n  }\n\n  onDrag =e=> {\n    if(this.unmounted || this.state.unlocked) return;\n    if(this.isDragging) {\n      if(isTouchDevice) {\n        this.sliderLeft = Math.min(Math.max(0, e.touches[0].clientX - this.startX), this.containerWidth);\n      } else {\n        this.sliderLeft = Math.min(Math.max(0, e.clientX - this.startX), this.containerWidth);\n      }\n      this.updateSliderStyle();\n    }\n  }\n\n  updateSliderStyle =()=> {\n    if(this.unmounted || this.state.unlocked) return;\n    slider.current.style.left = (this.sliderLeft + 50)+'px';\n  }\n\n  stopDrag =()=> {\n    if(this.unmounted || this.state.unlocked) return;\n    if(this.isDragging) {\n      this.isDragging = false;\n      if(this.sliderLeft > this.containerWidth * 0.9) {\n        this.sliderLeft = this.containerWidth;\n        this.onSuccess();\n        if(this.props.onSuccess) {\n          this.props.onSuccess();\n        }\n      } else {\n        this.sliderLeft = 0;\n        if(this.props.onFailure) {\n          this.props.onFailure();\n        }\n      }\n      this.updateSliderStyle();\n    }\n  }\n\n  startDrag =e=> {\n    if(this.unmounted || this.state.unlocked) return;\n    this.isDragging = true;\n    if(isTouchDevice) {\n      this.startX = e.touches[0].clientX;\n    } else {\n      this.startX = e.clientX;\n    }\n  }\n\n  onSuccess =()=> {\n    container.current.style.width = container.current.clientWidth+'px';\n    this.setState({\n      unlocked: true\n    })\n  }\n\n  getText =()=> {\n    return this.state.unlocked ? (this.props.text_unlocked || 'UNLOCKED') : (this.props.text || 'SLIDE')\n  }\n\n  reset =()=> {\n    if(this.unmounted) return;\n    this.setState({unlocked: false}, ()=> {\n      this.sliderLeft = 0;\n      this.updateSliderStyle();\n    });\n  }\n\n  componentWillUnmount() {\n    this.unmounted = true;\n  }\n\n  render() { \n    return (\n      <div className={styles.ReactSwipeButton}>\n        <div className={styles.rsbContainer + ' ' + (this.state.unlocked ? styles.rsbContainerUnlocked : '')} ref={container}>\n          <div className={styles.rsbcSlider} \n            ref={slider} \n            onMouseDown={this.startDrag} \n            style={{background: this.props.color}}\n            onTouchStart={this.startDrag}>\n            <span className={styles.rsbcSliderText}>{this.getText()}</span>\n            <span className={styles.rsbcSliderArrow}></span>\n            <span className={styles.rsbcSliderCircle} style={{background: this.props.color}}></span>\n          </div>\n          <div className={styles.rsbcText}>{this.getText()}</div>\n        </div>\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}